<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Audio Metadata</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }

    label {
      display: block;
      margin-top: 10px;
    }

    input,
    textarea,
    button {
      margin-top: 5px;
      width: 100%;
    }
  </style>
</head>

<body>
  <h1>Edit Audio Metadata</h1>
  <form id="audioForm">
    <label for="audioFile">Audio File:</label>
    <input type="file" id="audioFile" accept="audio/*" required>

    <label for="audioName">Name:</label>
    <input type="text" id="audioName" required>

    <label for="coverPhoto">Cover Photo URL:</label>
    <input type="text" id="coverPhoto">

    <label for="description">Description:</label>
    <textarea id="description" rows="4"></textarea>

    <label for="artist">Artist Name:</label>
    <input type="text" id="artist" required>

    <label for="lyrics">Lyrics:</label>
    <textarea id="lyrics" rows="6"></textarea>

    <button type="submit">Save Metadata</button>
  </form>

  <h2>Edited Metadata</h2>
  <pre id="output"></pre>

  <script>
    document.getElementById('audioForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const audioFile = document.getElementById('audioFile').files[0];
      const audioName = document.getElementById('audioName').value;
      const coverPhoto = document.getElementById('coverPhoto').value;
      const description = document.getElementById('description').value;
      const artist = document.getElementById('artist').value;
      const lyrics = document.getElementById('lyrics').value;

      if (!audioFile) {
        alert('Please select an audio file.');
        return;
      }

      const reader = new FileReader();

      reader.onload = function (event) {
        const audioData = {
          name: audioName,
          coverPhoto: coverPhoto,
          description: description,
          artist: artist,
          lyrics: lyrics,
          audioContent: event.target.result
        };

        const output = document.getElementById('output');
        output.textContent = JSON.stringify(audioData, null, 2);

        // Create a downloadable JSON file
        const jsonString = JSON.stringify(audioData);
        const blob = new Blob([jsonString], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'audio-metadata.json';
        a.textContent = 'Download Edited Metadata';
        a.style.display = 'block';
        a.style.marginTop = '10px';
        document.body.appendChild(a);
      };

      reader.readAsDataURL(audioFile);
    });

  </script>
</body>

</html>